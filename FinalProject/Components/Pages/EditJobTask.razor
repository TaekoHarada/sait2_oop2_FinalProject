@page "/EditJobTask/{ProjectId}/{TaskId}"

<h3 class="fs-4"><i class="bi bi-rocket-takeoff"></i>  Edit Task</h3>

<div>
	<button @onclick="() => ReturnPageHandler()" class="btn btn-secondary btn-sm mt-3">Return to Task List</button>
</div>

<div class="container bg-dark bg-opacity-10 border rounded mt-4 mb-4">

	<EditForm Model="@jobTask">

		<div class="row align-items-center">
			<div class="col-3">
				<label class="col-form-label fw-bold">Task ID: </label>
			</div>
			<div class="col-9">@jobTask.TaskId</div>
		</div>

		<div class="row align-items-center">
			<div class="col-3">
				<label class="col-form-label fw-bold">Task Name: </label>
			</div>
			<div class="col-9">
				<InputText id="task_name" @bind-Value="@jobTask.TaskName" class="form-control form-control-sm" />
			</div>
		</div>

		<div class="row align-items-center">
			<div class="col-3">
				<label for="start_date" class="col-form-label fw-bold">Start Date:</label>
			</div>
			<div class="col-9">
				<DateInput TValue="DateOnly" @bind-Value="@StartDateDateonly" Placeholder="Start Date" class="form-control form-control-sm" />
			</div>
		</div>

		<div class="row align-items-center">
			<div class="col-3">
				<label for="end_date" class="col-form-label fw-bold">End Date:</label>
			</div>
			<div class="col-9">
				<DateInput TValue="DateOnly" @bind-Value="@EndDateDateonly" Placeholder="End Date" class="form-control form-control-sm" />
			</div>
		</div>

		<div class="row align-items-center">
			<div class="col-3">
				<label class="col-form-label fw-bold">Status: </label>
			</div>
			<div class="col-9">
				<select id="status" @bind="jobTask.Status" class="form-select form-select-sm">
					<option value=0>Not Start</option>
					<option value=1>In Progress</option>
					<option value=2>Pending</option>
					<option value=3>Done</option>
				</select>
			</div>
		</div>

	</EditForm>

	<div class="mt-3">
		<button @onclick="() => UpdateHandler()" @onclick:preventDefault="true" class="btn btn-primary btn-sm mb-3">Save</button>
	</div>
</div>

<div>
	<button @onclick="() => ReturnPageHandler()" class="btn btn-secondary btn-sm mb-3">Return to Task List</button>
</div>

@if (isSaved)
{
	<div class="alert alert-info" role="alert">
		Updated
	</div>
}

